var Admin;(function(){function t(){function n(){var n=[0,1];return n.reverse(),n[0]===0}return n()||n()}if(t()){Array.prototype._reverse=Array.prototype.reverse;Array.prototype.reverse=function(){return Array.isArray(this)&&(this.length=this.length),Array.prototype._reverse.call(this)};var n={enumerable:!1};Object.defineProperties(Array.prototype,{_reverse:n,reverse:n})}})();Admin=Admin||{};Admin.Navigation=function(){var r=function(){var n={},t=$("a.menu-item-link");return t.each(function(){var t=$(this).parentsUntil(".sidebar-menu"),i,r,u,f,e;switch(t.length){case 1:i=$(t).find("a").attr("href");r=$(t).find("a").find("span").html();n[i]={title:r,link:i,parent:null,grandParent:null};break;case 3:i=$(t).eq(0).find("a").attr("href");r=$(t).eq(0).find("a").find("span").html();u=$(t).eq(2).find("a").find("span").html();n[i]={title:r,link:i,parent:u,grandParent:null};break;case 5:i=$(t).eq(0).find("a").attr("href");r=$(t).eq(0).find("a").find("span").html();u=$(t).eq(2).find("a").find("span").html();f=$(t).eq(4).find("a").find("span").html();n[i]={title:r,link:i,parent:u,grandParent:f};break;case 7:i=$(t).eq(0).find("a").attr("href");r=$(t).eq(0).find("a").find("span").html();u=$(t).eq(2).find("a").find("span").html();f=$(t).eq(4).find("a").find("span").html();e=$(t).eq(6).find("a").find("span").html();n[i]={title:r,link:i,parent:u,grandParent:f,greatGrandParent:e}}}),n},n,t=function(){n=r()},i={};return{enumerate:function(t){var r,i;for(r in n)i=n[r],t.call(i,i)},open:function(n){if(i.open){var t=$.Event("open",{url:n});if(i.open.fire(t),t.isDefaultPrevented())return}window.location.href=n},initOnce:function(){n||t()},init:t}}();Admin=Admin||{};Admin.Search=function(){var n=function(n){var i=function(){return n.greatGrandParent?$("<p/>").text([n.greatGrandParent,n.grandParent,n.parent].join(" > ")).html():n.grandParent?$("<p/>").text([n.grandParent,n.parent].join(" > ")).html():n.parent},t='<div id="user-selection"><h5>'+n.title+"<\/h5>";return i()&&(t=t+i()),t+"<\/div>"},t=function(n){var t=function(n,t){return n.rate<t.rate?1:n.rate>t.rate?-1:n.title<t.title?-1:n.title>t.title?1:0};return function(i,r){var f=[],u=new RegExp(i,"i"),e=new RegExp("nop-templates.com/(.*?)-for-nopcommerce-documentation","i"),o=new RegExp("/admin/(.*?)ThemeAdmin/ManageResources","i");n(function(n){var t=0;u.test(n.title)?t+=10:u.test(n.parent)?t+=5:u.test(n.grandParent)?t+=3:u.test(n.greatGrandParent)&&(t+=1);o.test(n.link)&&(t-=1);e.test(n.link)&&(t-=2);t>0&&(n.rate=t,f.push(n))});f.sort(t);r(f)}};return{init:function(){var i,r;Admin.Navigation.initOnce();i=$(".admin-search-box");i.blur(function(n){n.preventDefault();n.stopPropagation()});i.typeahead({minLength:2,highlight:!0,hint:!1},{name:"pages",displayKey:"name",templates:{empty:'<div class="empty-message">\nNO RESULTS\n<\/div>',suggestion:n},source:t(Admin.Navigation.enumerate),limit:10});r=function(n){i.typeahead("val","");Admin.Navigation.open(n.link)};i.on("typeahead:selected",function(n,t){r(t)})}}}();